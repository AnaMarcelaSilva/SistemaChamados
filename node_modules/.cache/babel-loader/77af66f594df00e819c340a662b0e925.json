{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anama\\\\Documents\\\\sigos\\\\src\\\\pages\\\\New\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport Header from '../../components/Header';\nimport Title from '../../components/Title';\nimport { FiPlus } from 'react-icons/fi';\nimport { toast } from 'react-toastify';\nimport { useContext, useState } from 'react';\nimport { AuthContext } from '../../contexts/auth';\nimport firebase from '../../services/firebaseConnection';\nimport { useHistory, useParams } from 'react-router-dom';\nimport './new.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function New() {\n  _s();\n\n  const {\n    id\n  } = useParams(); //buscar dados na url que correspodem \n\n  const history = useHistory();\n  const {\n    user,\n    setUser\n  } = useContext(AuthContext);\n  const [nome, setNome] = useState(user && user.nome);\n  const [email, SetEmail] = useState(user && user.email);\n  const [rm, SetRm] = useState(user && user.rm);\n  const [assunto, setAssunto] = useState(\"Suporte\");\n  const [status, setStatus] = useState(\"Aberto\");\n  const [descricao, setDescricao] = useState('');\n  const [codigo, setCodigo] = useState(codigo++);\n\n  async function Register(e) {\n    e.preventDefault();\n    let gerarNum = codigo;\n    gerarNum++;\n\n    while (gerarNum <= codigo) {\n      gerarNum++;\n      setCodigo(gerarNum);\n    }\n\n    setCodigo(gerarNum);\n    console.log(codigo);\n    await firebase.firestore().collection(\"chamados\").add({\n      created: new Date(),\n      requerente: nome,\n      email: email,\n      assunto: assunto,\n      status: status,\n      descricao: descricao,\n      rm: rm,\n      codigo: codigo\n    }).then(() => {\n      toast.success(\"Chamado registrado com sucesso!\");\n      setDescricao(\"\");\n    }).catch(error => {\n      toast.error(\"Algo deu errado ao registrar, tente novamente.\");\n      console.log(error);\n    });\n  } //A função é chamada quando é selecionado o assunto\n\n\n  function ChangeSelect(e) {\n    setAssunto(e.target.value);\n    console.log(e.target.value);\n  } //A função é chamada quando o status é selecionado\n\n\n  function ChangeOption(e) {\n    setStatus(e.target.value);\n    console.log(e.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        name: \"Novo chamado\",\n        children: /*#__PURE__*/_jsxDEV(FiPlus, {\n          size: 25\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-profile\",\n          onSubmit: Register,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Requerente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: nome,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"E-mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: email,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Assunto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: assunto,\n            onChange: ChangeSelect,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Suporte\",\n              children: \"Suporte\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Equipamento\",\n              children: \"Equipamento com defeito\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Internet\",\n              children: \"Falta de internet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"radio\",\n              value: \"Aberto\",\n              onChange: ChangeOption,\n              checked: status === 'Aberto' ? true : false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Em Aberto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"radio\",\n              value: \"Progesso\",\n              onChange: ChangeOption,\n              checked: status === 'Progesso' ? true : false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Em progresso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"radio\",\n              value: \"Atendido\",\n              onChange: ChangeOption,\n              checked: status === 'Atendido' ? true : false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Atendido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            required: true,\n            placeholder: \"Descreva seu problema aqui.\",\n            value: descricao,\n            onChange: e => setDescricao(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"salvar-btn\",\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(New, \"syKc+TSQvyiBWVvziy7KdHWXk+Q=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = New;\n\nvar _c;\n\n$RefreshReg$(_c, \"New\");","map":{"version":3,"names":["Header","Title","FiPlus","toast","useContext","useState","AuthContext","firebase","useHistory","useParams","New","id","history","user","setUser","nome","setNome","email","SetEmail","rm","SetRm","assunto","setAssunto","status","setStatus","descricao","setDescricao","codigo","setCodigo","Register","e","preventDefault","gerarNum","console","log","firestore","collection","add","created","Date","requerente","then","success","catch","error","ChangeSelect","target","value","ChangeOption"],"sources":["C:/Users/anama/Documents/sigos/src/pages/New/index.js"],"sourcesContent":["import Header from '../../components/Header';\r\nimport Title from '../../components/Title';\r\nimport {FiPlus} from 'react-icons/fi';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nimport { useContext, useState } from 'react';\r\nimport { AuthContext } from '../../contexts/auth';\r\nimport firebase from '../../services/firebaseConnection';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport './new.css';\r\n\r\nexport default function New(){\r\n  const {id} = useParams(); //buscar dados na url que correspodem \r\n  const history = useHistory();\r\n\r\n  const {user, setUser} = useContext(AuthContext);\r\n\r\n  const [nome, setNome] = useState(user && user.nome);\r\n  const [email, SetEmail] = useState(user && user.email);\r\n  const [rm, SetRm] = useState(user && user.rm);\r\n  const [assunto, setAssunto] = useState(\"Suporte\");\r\n  const [status, setStatus] = useState(\"Aberto\");\r\n  const [descricao, setDescricao] = useState('');\r\n  const [codigo, setCodigo] = useState(codigo++);\r\n\r\n\r\n  async function Register(e){\r\n    e.preventDefault();\r\n\r\n      let gerarNum = codigo;\r\n      gerarNum++;\r\n      while(gerarNum <= codigo){\r\n        gerarNum++;\r\n        setCodigo(gerarNum);\r\n      }\r\n      setCodigo(gerarNum);\r\n      console.log(codigo);\r\n\r\n    await firebase.firestore().collection(\"chamados\")\r\n    .add({\r\n      created: new Date(),\r\n      requerente: nome,\r\n      email: email,\r\n      assunto: assunto,\r\n      status: status,\r\n      descricao: descricao,\r\n      rm: rm,\r\n      codigo: codigo\r\n    }) \r\n    .then(()=>{\r\n      toast.success(\"Chamado registrado com sucesso!\");\r\n      setDescricao(\"\");\r\n    })\r\n    .catch((error)=>{\r\n      toast.error(\"Algo deu errado ao registrar, tente novamente.\")\r\n      console.log(error);\r\n    })\r\n  }\r\n\r\n  //A função é chamada quando é selecionado o assunto\r\n  function ChangeSelect(e){\r\n    setAssunto(e.target.value);\r\n    console.log(e.target.value)\r\n  }\r\n  \r\n  //A função é chamada quando o status é selecionado\r\n  function ChangeOption(e){\r\n    setStatus(e.target.value);\r\n    console.log(e.target.value);\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <Header />\r\n\r\n      <div className='content'>\r\n        <Title name='Novo chamado'>\r\n          <FiPlus size={25}/>\r\n        </Title>\r\n\r\n        <div className='container'>\r\n          <form className='form-profile' onSubmit={Register}  >\r\n            <label>Requerente</label>\r\n            <input type='text' value={nome} disabled={true}/>\r\n            <label>E-mail</label>\r\n            <input type='text' value={email} disabled={true}/>\r\n\r\n            <label>Assunto</label>\r\n            <select value={assunto} onChange={ChangeSelect}>\r\n              <option value=\"Suporte\">Suporte</option>\r\n              <option value=\"Equipamento\">Equipamento com defeito</option>\r\n              <option value=\"Internet\">Falta de internet</option>              \r\n            </select>\r\n\r\n            <label>Status</label>\r\n            <div className='status'>\r\n              <input \r\n              type='radio'\r\n              name='radio'\r\n              value='Aberto'\r\n              onChange={ChangeOption}\r\n              checked={status === 'Aberto' ? true : false}\r\n              />\r\n              <span>Em Aberto</span>\r\n\r\n              <input \r\n              type='radio'\r\n              name='radio'\r\n              value='Progesso'\r\n              onChange={ChangeOption}\r\n              checked={status === 'Progesso' ? true : false}\r\n              />\r\n              <span>Em progresso</span>\r\n\r\n              <input \r\n              type='radio'\r\n              name='radio'\r\n              value='Atendido'\r\n              onChange={ChangeOption}\r\n              checked={status === 'Atendido' ? true : false}\r\n              />\r\n              <span>Atendido</span>\r\n            </div>\r\n\r\n            <label>Descrição</label>\r\n            <textarea required placeholder='Descreva seu problema aqui.' value={descricao} onChange={(e) => setDescricao(e.target.value)}/>\r\n            <button type='submit' className='salvar-btn'>Salvar</button>\r\n          </form>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}